import{u as e,j as s,B as a,a as t}from"./index-CKQv3R9A.js";import{r}from"./vendor-CcJAMPNA.js";import{C as l}from"./Card-uZnIhsI-.js";import{I as i}from"./Input-djdKkEw-.js";import{u as d}from"./i18n-BFZeVeRj.js";import{i as n,a1 as c,T as x,h as m,s as o,a0 as g,r as h,m as p,B as j,O as u}from"./ui-l3yZ0qgr.js";import"./router-C42e25Rd.js";import"./charts-CYIsZ7Q-.js";import"./forms-CFEThZtO.js";const y=()=>{const{t:y}=d(),{user:N}=e(),[b,f]=r.useState("students"),[v,k]=r.useState([]),[w,S]=r.useState([]),[A,C]=r.useState([]),[P,M]=r.useState(""),[L,T]=r.useState("all"),[D,I]=r.useState(!1),[R,z]=r.useState(""),[E,U]=r.useState(""),[_,B]=r.useState(null),O=async()=>{try{I(!0);const e=await t.getMentorStudents({search:P,filter:L,page:1,limit:50});e.data.success&&k(e.data.students)}catch(e){}finally{I(!1)}},V=async()=>{try{const e=await t.getMentorAssignedStudents();e.data.success&&S(e.data.students)}catch(e){}},W=async()=>{try{const e=await t.getMentorDashboardStats();e.data.success&&B(e.data.stats)}catch(e){}};r.useEffect(()=>{O(),V(),W()},[P,L]);const $=[{id:1,name:"Priya Sharma",email:"priya@example.com",progress:85,careerPath:"Software Engineering",lastActive:"2 hours ago",aptitudeScore:92,strengths:["Problem Solving","Logical Thinking","Teamwork"],avatar:"PS"},{id:2,name:"Arjun Patel",email:"arjun@example.com",progress:72,careerPath:"Data Science",lastActive:"1 day ago",aptitudeScore:88,strengths:["Analytical Skills","Mathematics","Research"],avatar:"AP"},{id:3,name:"Sneha Reddy",email:"sneha@example.com",progress:91,careerPath:"Product Management",lastActive:"3 hours ago",aptitudeScore:95,strengths:["Leadership","Communication","Strategic Thinking"],avatar:"SR"}];r.useEffect(()=>{k($)},[]);return v.filter(e=>e.name.toLowerCase().includes(P.toLowerCase())||e.email.toLowerCase().includes(P.toLowerCase())),s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Mentor Portal"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-300",children:["Welcome back, ",(null==N?void 0:N.name)||"Mentor"]})]}),s.jsx("div",{className:"flex items-center space-x-4",children:s.jsxs("div",{className:"bg-primary-100 dark:bg-primary-900 text-primary-600 dark:text-primary-400 px-3 py-1 rounded-full text-sm font-medium",children:[_.totalStudents," Students"]})})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[s.jsx(l,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900 rounded-lg",children:s.jsx(n,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Total Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null==_?void 0:_.totalStudents)||0})]})]})}),s.jsx(l,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-900 rounded-lg",children:s.jsx(c,{className:"w-6 h-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Active Students"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null==_?void 0:_.activeStudents)||0})]})]})}),s.jsx(l,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-purple-100 dark:bg-purple-900 rounded-lg",children:s.jsx(x,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Avg Progress"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[(null==_?void 0:_.avgProgress)||0,"%"]})]})]})}),s.jsx(l,{className:"p-6",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"p-2 bg-orange-100 dark:bg-orange-900 rounded-lg",children:s.jsx(m,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-300",children:"Avg Aptitude"}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:(null==_?void 0:_.avgAptitude)||0})]})]})})]}),s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700 mb-6",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:[{id:"students",label:"My Students",icon:n},{id:"analytics",label:"Analytics",icon:o},{id:"messages",label:"Messages",icon:g}].map(e=>s.jsxs("button",{onClick:()=>f(e.id),className:"flex items-center py-2 px-1 border-b-2 font-medium text-sm "+(b===e.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-300"),children:[s.jsx(e.icon,{className:"w-4 h-4 mr-2"}),e.label]},e.id))})}),"students"===b&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsx(i,{type:"text",placeholder:"Search students...",value:P,onChange:e=>M(e.target.value),leftIcon:s.jsx(h,{className:"w-4 h-4 text-gray-400"})})}),s.jsxs("select",{value:L,onChange:e=>T(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"all",children:"All Students"}),s.jsx("option",{value:"assigned",children:"Assigned"}),s.jsx("option",{value:"unassigned",children:"Unassigned"})]})]}),A.length>0&&s.jsxs("div",{className:"flex gap-2 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsxs(a,{onClick:async()=>{if(0!==A.length)try{I(!0);(await t.assignStudents({studentIds:A})).data.success&&(C([]),O(),V(),W())}catch(e){}finally{I(!1)}},disabled:D,className:"bg-green-600 hover:bg-green-700 text-white",children:["Assign Selected (",A.length,")"]}),s.jsx(a,{onClick:async()=>{if(0!==A.length)try{I(!0);(await t.unassignStudents({studentIds:A})).data.success&&(C([]),O(),V(),W())}catch(e){}finally{I(!1)}},disabled:D,className:"bg-red-600 hover:bg-red-700 text-white",children:"Unassign Selected"}),s.jsx(a,{onClick:()=>C([]),className:"bg-gray-600 hover:bg-gray-700 text-white",children:"Clear Selection"})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:D?s.jsxs("div",{className:"col-span-full text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),s.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Loading students..."})]}):0===v.length?s.jsxs("div",{className:"col-span-full text-center py-8",children:[s.jsx(n,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No students found"})]}):v.map(e=>{var t;return s.jsx(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:s.jsxs(l,{className:"p-6 hover:shadow-lg transition-shadow duration-200 "+(e.isAssigned?"border-green-200 dark:border-green-800":"border-gray-200 dark:border-gray-700"),children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-12 h-12 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-semibold",children:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:e.email}),e.isAssigned&&s.jsxs("p",{className:"text-xs text-green-600 dark:text-green-400",children:["Assigned to:"," ",(null==(t=e.assignedMentor)?void 0:t.name)||"Unknown"]})]})]}),s.jsx("div",{className:"flex items-center space-x-2",children:e.canAssign&&s.jsx("input",{type:"checkbox",checked:A.includes(e._id),onChange:()=>{return s=e._id,void C(e=>e.includes(s)?e.filter(e=>e!==s):[...e,s]);var s},className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Progress"}),s.jsxs("span",{className:"font-medium",children:[e.progress,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:s.jsx("div",{className:"bg-primary-600 h-2 rounded-full transition-all duration-300",style:{width:`${e.progress}%`}})})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Career Path:"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:e.careerPath})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Aptitude Score:"}),s.jsx("span",{className:"font-medium text-green-600 dark:text-green-400",children:e.aptitudeScore})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Last Active:"}),s.jsx("span",{className:"text-gray-900 dark:text-white",children:e.lastActive})]})]}),s.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"flex flex-wrap gap-1",children:e.strengths.map((e,a)=>s.jsx("span",{className:"px-2 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 text-xs rounded-full",children:e},a))})}),s.jsxs("div",{className:"mt-4 flex space-x-2",children:[s.jsxs(a,{size:"sm",variant:"outline",onClick:()=>{},className:"flex-1",children:[s.jsx(j,{className:"w-4 h-4 mr-1"}),"View Details"]}),s.jsxs(a,{size:"sm",onClick:()=>{},className:"flex-1",children:[s.jsx(g,{className:"w-4 h-4 mr-1"}),"Chat"]})]})]})},e._id)})}),A.length>0&&s.jsx(l,{className:"p-4 bg-primary-50 dark:bg-primary-900/20 border-primary-200 dark:border-primary-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("span",{className:"text-primary-700 dark:text-primary-300 font-medium",children:[A.length," student(s) selected"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(i,{type:"text",placeholder:"Send message...",value:R,onChange:e=>z(e.target.value),className:"flex-1"}),s.jsxs(a,{onClick:async()=>{if(R.trim()&&0!==A.length){I(!0);try{z(""),C([])}catch(e){}finally{I(!1)}}},disabled:!R.trim()||D,size:"sm",children:[s.jsx(u,{className:"w-4 h-4 mr-1"}),"Send"]})]})]})})]}),"analytics"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs(l,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Student Performance Overview"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Career Path Distribution"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Software Engineering"}),s.jsx("span",{className:"text-sm font-medium",children:"40%"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Data Science"}),s.jsx("span",{className:"text-sm font-medium",children:"30%"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Product Management"}),s.jsx("span",{className:"text-sm font-medium",children:"30%"})]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Progress Trends"}),s.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[s.jsx("p",{children:"• 85% of students show consistent progress"}),s.jsx("p",{children:"• Average completion time: 3.2 weeks"}),s.jsx("p",{children:"• 92% satisfaction rate"})]})]})]})]})}),"messages"===b&&s.jsx("div",{className:"space-y-6",children:s.jsxs(l,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Recent Conversations"}),s.jsx("div",{className:"space-y-4",children:v.slice(0,3).map(e=>s.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-semibold text-sm",children:e.avatar})}),s.jsxs("div",{className:"ml-3",children:[s.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:e.name}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:"Last message 2 hours ago"})]})]}),s.jsxs(a,{size:"sm",variant:"outline",children:[s.jsx(g,{className:"w-4 h-4 mr-1"}),"Reply"]})]},e.id))})]})})]})]})};export{y as default};
//# sourceMappingURL=MentorPortal-D31faCsl.js.map

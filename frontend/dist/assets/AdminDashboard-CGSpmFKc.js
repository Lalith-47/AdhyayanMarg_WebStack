import{u as e,j as s,a,B as t}from"./index-CKQv3R9A.js";import{r}from"./vendor-CcJAMPNA.js";import{u as d}from"./i18n-BFZeVeRj.js";import{a as i,a2 as l,a3 as n,a4 as x,s as c,i as o,l as m,T as g,B as h,w as u,a5 as y,Z as p,a1 as b,t as j,r as v,a6 as k,a7 as N,W as w,a8 as f}from"./ui-l3yZ0qgr.js";import{R as C,A as S,C as z,X as A,Y as D,T as P,b as L,P as M,d as R,e as T,L as q,B as Q,f as U}from"./charts-CYIsZ7Q-.js";import"./router-C42e25Rd.js";import"./forms-CFEThZtO.js";const B=()=>{var B,F,E,O,W,I,K,$,G,V,H,Y,Z,X,J,_,ee,se,ae,te,re,de,ie,le,ne;const{t:xe}=d(),{user:ce}=e(),[oe,me]=r.useState(!0),[ge,he]=r.useState(null),[ue,ye]=r.useState([]),[pe,be]=r.useState("overview"),[je,ve]=r.useState("7d"),[ke,Ne]=r.useState(""),[we,fe]=r.useState(""),[Ce,Se]=r.useState(""),[ze,Ae]=r.useState(1),[De,Pe]=r.useState(null),[Le,Me]=r.useState(null),[Re,Te]=r.useState(null),[qe,Qe]=r.useState(!1),[Ue,Be]=r.useState(null),[Fe,Ee]=r.useState(!1),[Oe,We]=r.useState(null),[Ie,Ke]=r.useState(""),[$e,Ge]=r.useState(""),[Ve,He]=r.useState(!1),[Ye,Ze]=r.useState(!1),[Xe,Je]=r.useState(!1),[_e,es]=r.useState(!1),[ss,as]=r.useState(""),[ts,rs]=r.useState(!1),[ds,is]=r.useState(null),[ls,ns]=r.useState(""),[xs,cs]=r.useState(!1),[os,ms]=r.useState(!1),[gs,hs]=r.useState(null),[us,ys]=r.useState(!1),[ps,bs]=r.useState({name:"",email:"",password:"",confirmPassword:"",role:"student"}),[js,vs]=r.useState(!1),[ks,Ns]=r.useState({}),[ws,fs]=r.useState({maintenanceMode:!1,registrationStatus:!0,emailNotifications:!0,passwordRequirements:!0,twoFactorAuth:!1,ipWhitelist:!1,autoSaveResults:!0,autoModerateStories:!1,contentApprovalRequired:!0,errorReporting:!0,debugMode:!1});if("admin"!==(null==ce?void 0:ce.role))return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx(i,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Access Denied"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"You need admin privileges to access this page."})]})});r.useEffect(()=>{if(ce&&"admin"===ce.role){(async()=>{try{ge||await Cs(),0===ue.length&&await Ss(),await As()}catch(e){}})()}},[ce]),r.useEffect(()=>{if("quiz"===pe){Re||As();const e=setInterval(()=>{As(!0)},6e4);return()=>clearInterval(e)}},[pe,Re]);const Cs=async(e=!1)=>{var s,t,r,d,i;const l=Date.now();if(!e&&gs&&l-gs<3e4&&ge)me(!1);else try{me(!0),Me(null);const e=new Promise((e,s)=>{setTimeout(()=>s(new Error("Request timeout")),15e3)}),s=await Promise.race([a.getAdminDashboard(),e]);if(!s.data.success)throw new Error(s.data.message||"Failed to fetch dashboard data");he(s.data.data),hs(l),Me(null)}catch(n){let e="Failed to load dashboard data";401===(null==(s=n.response)?void 0:s.status)?e="Authentication required. Please login again.":403===(null==(t=n.response)?void 0:t.status)?e="Access denied. Admin privileges required.":503===(null==(r=n.response)?void 0:r.status)?e="Database not connected. Please ensure MongoDB is running and properly configured.":(null==(i=null==(d=n.response)?void 0:d.data)?void 0:i.message)?e=n.response.data.message:"ECONNABORTED"===n.code||"Request timeout"===n.message?e="Request timed out. Please try again.":n.message&&(e=n.message),Me(e)}finally{me(!1)}},Ss=async(e=1,s="",t="",r="")=>{var d,i,l,n,x;try{me(!0),Me(null);const d={page:e,limit:10,...s&&{search:s},...t&&{role:t},...r&&{status:r}},i=new Promise((e,s)=>{setTimeout(()=>s(new Error("Request timeout")),15e3)}),l=await Promise.race([a.getAdminUsers(d),i]);if(!l.data.success)throw new Error(l.data.message||"Failed to fetch users data");ye(l.data.data.users),Pe(l.data.data.pagination),Me(null)}catch(c){let e="Failed to load users data";401===(null==(d=c.response)?void 0:d.status)?e="Authentication required. Please login again.":403===(null==(i=c.response)?void 0:i.status)?e="Access denied. Admin privileges required.":503===(null==(l=c.response)?void 0:l.status)?e="Database not connected. Please ensure MongoDB is running and properly configured.":(null==(x=null==(n=c.response)?void 0:n.data)?void 0:x.message)?e=c.response.data.message:"ECONNABORTED"===c.code||"Request timeout"===c.message?e="Request timed out. Please try again.":c.message&&(e=c.message),Me(e)}finally{me(!1)}},zs=e=>{Ae(e),Ss(e,ke,we,Ce)},As=async(e=!1)=>{var s,t,r,d,i,l,n,x;try{Qe(!0);const c=await a.getAdminQuizData(e);if(!c.data.success||!c.data.data)throw new Error("Invalid response format");{const a=c.data.data,o={totalQuizzes:a.totalQuizzes||0,guestQuizzes:a.guestQuizzes||0,authenticatedQuizzes:a.authenticatedQuizzes||0,personalityDistribution:{analytical:(null==(s=a.personalityDistribution)?void 0:s.Analyst)||0,creative:(null==(t=a.personalityDistribution)?void 0:t.Creator)||0,social:(null==(r=a.personalityDistribution)?void 0:r.Helper)||0,leadership:(null==(d=a.personalityDistribution)?void 0:d.Leader)||0,explorer:(null==(i=a.personalityDistribution)?void 0:i.Explorer)||0},recentQuizzes:a.recentQuizzes||[],averageCompletionTime:(null==(l=a.quizStats)?void 0:l.averageCompletionTime)||0,totalAnswers:(null==(n=a.quizStats)?void 0:n.totalAnswers)||0,mostCommonPersonality:(null==(x=a.quizStats)?void 0:x.mostCommonPersonality)||"analytical"};Te(o),Be(new Date),e&&(as("✅ Quiz data refreshed successfully!"),es(!0),setTimeout(()=>{es(!1)},3e3))}}catch(c){e&&(as("❌ Failed to refresh quiz data. Please try again."),es(!0),setTimeout(()=>{es(!1)},3e3)),e||Te({totalQuizzes:0,guestQuizzes:0,authenticatedQuizzes:0,personalityDistribution:{analytical:0,creative:0,social:0,leadership:0,explorer:0},recentQuizzes:[],averageCompletionTime:0,totalAnswers:0,mostCommonPersonality:"analytical"})}finally{Qe(!1)}},Ds=e=>{fs(s=>({...s,[e]:!s[e]}))},Ps=({isOn:e,onClick:a,disabled:t=!1})=>s.jsx("button",{onClick:a,disabled:t,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-200 ${e?"bg-green-500":"bg-gray-200 dark:bg-gray-700"} ${t?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,children:s.jsx("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-200 "+(e?"translate-x-6":"translate-x-1")})}),Ls=({className:e=""})=>s.jsx("div",{className:`bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 animate-pulse ${e}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-20 mb-2"}),s.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-600 rounded w-16 mb-2"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-24"})]}),s.jsx("div",{className:"w-12 h-12 bg-gray-200 dark:bg-gray-600 rounded-lg"})]})}),Ms=()=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-600 rounded w-40"}),s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-600 rounded w-8"})]}),s.jsx("div",{className:"h-72 bg-gray-200 dark:bg-gray-600 rounded"})]}),Rs=()=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 animate-pulse",children:[s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-600 rounded w-32 mb-6"}),s.jsx("div",{className:"space-y-4",children:[...Array(6)].map((e,a)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-24"}),s.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-600 rounded w-8"})]},a))})]}),Ts=()=>s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 animate-pulse",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"h-6 bg-gray-200 dark:bg-gray-600 rounded w-24"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-16"})]}),s.jsx("div",{className:"space-y-4",children:[...Array(5)].map((e,a)=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-600 rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-32 mb-1"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-48"})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:"h-5 bg-gray-200 dark:bg-gray-600 rounded w-16 mb-1"}),s.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-600 rounded w-20"})]})]},a))})]});if(oe)return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-6",children:[s.jsxs("div",{children:[s.jsx("div",{className:"h-8 bg-gray-200 dark:bg-gray-600 rounded w-48 mb-2 animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-64 animate-pulse"})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-20 animate-pulse"}),s.jsx("div",{className:"w-5 h-5 bg-gray-200 dark:bg-gray-600 rounded animate-pulse"})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"-mb-px flex space-x-8",children:[...Array(6)].map((e,a)=>s.jsxs("div",{className:"flex items-center space-x-2 py-2 px-1",children:[s.jsx("div",{className:"w-4 h-4 bg-gray-200 dark:bg-gray-600 rounded animate-pulse"}),s.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-600 rounded w-16 animate-pulse"})]},a))})})}),s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ls,{}),s.jsx(Ls,{}),s.jsx(Ls,{}),s.jsx(Ls,{})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx(Ms,{}),s.jsx(Rs,{})]}),s.jsx(Ts,{})]})]})]});if(Le&&!ge)return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx(l,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Database Connection Required"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"The admin dashboard requires a database connection to display real-time data. Please ensure MongoDB is properly configured and running."}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("button",{onClick:()=>{me(!0),Me(null),Cs(),Ss()},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 mr-2",children:"Retry Connection"}),s.jsx("button",{onClick:()=>{Me(null),he({userStats:{totalUsers:0,activeUsers:0,adminUsers:0,studentUsers:0,newUsersThisMonth:0,newUsersToday:0},userGrowth:[],platformStats:{},engagementData:[],deviceData:[],recentActivities:[],recentUsers:[]})},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Continue with Demo Data"})]})]})});const qs=[{id:"overview",name:"Overview",icon:c},{id:"users",name:"Users",icon:o},{id:"quiz",name:"Quiz Data",icon:m},{id:"analytics",name:"Analytics",icon:g},{id:"content",name:"Content",icon:h},{id:"settings",name:"Settings",icon:u}];return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsxs("div",{className:"flex justify-between items-center py-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Admin Dashboard"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Welcome back, ",null==ce?void 0:ce.name,"! Here's what's happening today."]})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:async()=>{ms(!0);try{const e=[];e.push(Cs(!0)),"users"!==pe&&0!==ue.length||e.push(Ss()),"quiz"!==pe&&Re||e.push(As(!0)),await Promise.allSettled(e),as("✅ Data refreshed successfully!"),es(!0),setTimeout(()=>{es(!1)},3e3)}catch(e){as("❌ Failed to refresh data. Please try again."),es(!0),setTimeout(()=>{es(!1)},3e3)}finally{ms(!1)}},disabled:os,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white rounded-lg transition-colors duration-200",children:[s.jsx("svg",{className:"w-4 h-4 "+(os?"animate-spin":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s.jsx("span",{className:"text-sm font-medium",children:os?"Refreshing...":"Refresh Data"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(n,{className:"w-4 h-4 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:(new Date).toLocaleDateString()})]}),s.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(x,{className:"w-5 h-5"})})]})]})})}),s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:s.jsx("nav",{className:"-mb-px flex space-x-8",children:qs.map(e=>s.jsxs("button",{onClick:()=>be(e.id),className:"flex items-center space-x-2 py-2 px-1 border-b-2 font-medium text-sm "+(pe===e.id?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-gray-400 dark:hover:text-gray-300"),children:[s.jsx(e.icon,{className:"w-4 h-4"}),s.jsx("span",{children:e.name})]},e.id))})})}),"overview"===pe&&ge&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Users"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(null==(B=ge.userStats)?void 0:B.totalUsers)||0}),s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center mt-1",children:[s.jsx(g,{className:"w-3 h-3 mr-1"}),"+",(null==(F=ge.userStats)?void 0:F.newUsersThisMonth)||0," this month"]})]}),s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:s.jsx(o,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Active Users"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(null==(E=ge.userStats)?void 0:E.activeUsers)||0}),s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center mt-1",children:[s.jsx(y,{className:"w-3 h-3 mr-1"}),Math.round((null==(O=ge.userStats)?void 0:O.activeUsers)/(null==(W=ge.userStats)?void 0:W.totalUsers)*100)||0,"% of total"]})]}),s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:s.jsx(y,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"New Today"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(null==(I=ge.userStats)?void 0:I.newUsersToday)||0}),s.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400 flex items-center mt-1",children:[s.jsx(p,{className:"w-3 h-3 mr-1"}),"New registrations"]})]}),s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:s.jsx(b,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Mentors"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(null==(K=null==ge?void 0:ge.userStats)?void 0:K.mentorUsers)||0}),s.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400 flex items-center mt-1",children:[s.jsx(o,{className:"w-3 h-3 mr-1"}),"Active mentors in the system"]})]}),s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:s.jsx(o,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User Growth (6 Months)"}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("button",{className:"px-3 py-1 text-xs bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full",children:"6M"})})]}),s.jsx(C,{width:"100%",height:300,children:s.jsxs(S,{data:ge.userGrowth||[],children:[s.jsx(z,{strokeDasharray:"3 3"}),s.jsx(A,{dataKey:"month"}),s.jsx(D,{}),s.jsx(P,{}),s.jsx(L,{type:"monotone",dataKey:"users",stackId:"1",stroke:"#3B82F6",fill:"#3B82F6",fillOpacity:.6}),s.jsx(L,{type:"monotone",dataKey:"active",stackId:"2",stroke:"#10B981",fill:"#10B981",fillOpacity:.6})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Platform Statistics"}),s.jsx("div",{className:"space-y-4",children:ge.platformStats&&Object.entries(ge.platformStats).map(([e,a])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:e.replace(/([A-Z])/g," $1").trim()}),s.jsx("span",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a})]},e))})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Users"}),s.jsx("button",{className:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:"View all"})]}),s.jsx("div",{className:"space-y-4",children:null==($=ge.recentUsers)?void 0:$.slice(0,5).map(e=>s.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-gray-900 dark:text-white font-medium",children:e.name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e.email})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("span",{className:"px-2 py-1 text-xs rounded-full "+("admin"===e.role?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"mentor"===e.role?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"),children:e.role.charAt(0).toUpperCase()+e.role.slice(1)}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:new Date(e.createdAt).toLocaleDateString()})]})]},e.id))})]})]}),"users"===pe&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"User Management"}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{onClick:()=>ys(!0),className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors duration-200",children:[s.jsx(j,{className:"w-4 h-4"}),s.jsx("span",{children:"Create Account"})]}),s.jsxs("button",{onClick:()=>Ss(ze,ke,we,Ce),className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors duration-200",children:[s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),s.jsx("span",{className:"text-sm",children:"Refresh"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(v,{className:"w-4 h-4 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:ke,onChange:e=>Ne(e.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white"})]}),s.jsxs("select",{value:we,onChange:e=>fe(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"All Roles"}),s.jsx("option",{value:"admin",children:"Admin"}),s.jsx("option",{value:"mentor",children:"Mentor"}),s.jsx("option",{value:"student",children:"Student"})]}),s.jsxs("select",{value:Ce,onChange:e=>Se(e.target.value),className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"",children:"All Status"}),s.jsx("option",{value:"active",children:"Active"}),s.jsx("option",{value:"inactive",children:"Inactive"})]}),s.jsx("button",{onClick:()=>{Ae(1),Ss(1,ke,we,Ce)},className:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700",children:"Search"})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Role"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Last Login"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:ue.map(e=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:e.name.charAt(0).toUpperCase()})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:e.name}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:e.email})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full "+("admin"===e.role?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"mentor"===e.role?"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"),children:e.role.charAt(0).toUpperCase()+e.role.slice(1)})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-2 h-2 rounded-full mr-2 "+(e.isActive?"bg-green-400":"bg-gray-400")}),s.jsx("span",{className:"text-sm text-gray-900 dark:text-white capitalize",children:e.isActive?"Active":"Inactive"})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:e.lastLogin?new Date(e.lastLogin).toLocaleDateString():"Never"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:s.jsxs("div",{className:"flex items-center space-x-2",children:["admin"!==e.role&&s.jsx("button",{onClick:()=>(e=>{is(e),ns(""),rs(!0)})(e),className:"px-2 py-1 text-xs rounded bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-900 dark:text-red-200",children:"Delete"}),s.jsx("button",{onClick:()=>(e=>{We(e),Ke(""),Ge(""),Ze(!1),Je(!1),Ee(!0)})(e),className:"px-2 py-1 text-xs rounded bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900 dark:text-blue-200",children:"Reset Password"}),s.jsx("button",{className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s.jsx(k,{className:"w-4 h-4"})})]})})]},e.id))})]})})}),De&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Showing ",10*(De.currentPage-1)+1," to"," ",Math.min(10*De.currentPage,De.totalUsers)," ","of ",De.totalUsers," results"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>zs(ze-1),disabled:!De.hasPrev,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),s.jsx("span",{className:"px-3 py-1 text-sm bg-primary-100 dark:bg-primary-900 text-primary-800 dark:text-primary-200 rounded-lg",children:De.currentPage}),s.jsx("button",{onClick:()=>zs(ze+1),disabled:!De.hasNext,className:"px-3 py-1 text-sm border border-gray-300 dark:border-gray-600 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]})]})]}),"quiz"===pe&&s.jsx("div",{className:"space-y-8",children:qe?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(Ls,{}),s.jsx(Ls,{}),s.jsx(Ls,{}),s.jsx(Ls,{})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsx(Ms,{}),s.jsx(Ms,{})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsx(Ls,{}),s.jsx(Ls,{}),s.jsx(Ls,{})]}),s.jsx(Ts,{})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Quiz Analytics"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Track quiz submissions and user engagement"}),!Re&&!qe&&s.jsx("p",{className:"text-sm text-orange-600 dark:text-orange-400 mt-1",children:'No quiz data loaded. Click "Load Data" to fetch quiz statistics.'})]}),s.jsxs("div",{className:"flex flex-col items-end space-y-2",children:[s.jsxs("button",{onClick:()=>As(!0),disabled:qe,className:"flex items-center space-x-2 px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[qe?s.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}):s.jsx(N,{className:"w-4 h-4"}),s.jsx("span",{children:qe?"Refreshing...":Re?"Refresh Data":"Load Data"})]}),Ue&&s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Last updated: ",Ue.toLocaleTimeString(),qe&&s.jsx("span",{className:"ml-2 text-primary-600 dark:text-primary-400",children:"• Refreshing..."})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Quizzes"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:qe?s.jsx("div",{className:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"}):s.jsx("span",{onClick:()=>{},children:(null==Re?void 0:Re.totalQuizzes)||0})}),s.jsxs("p",{className:"text-sm text-blue-600 dark:text-blue-400 flex items-center mt-1",children:[s.jsx(m,{className:"w-3 h-3 mr-1"}),"All submissions"]})]}),s.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900 rounded-lg",children:s.jsx(m,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Detailed Quizzes"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(null==Re?void 0:Re.authenticatedQuizzes)||0}),s.jsxs("p",{className:"text-sm text-green-600 dark:text-green-400 flex items-center mt-1",children:[s.jsx(b,{className:"w-3 h-3 mr-1"}),"Logged-in users"]})]}),s.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900 rounded-lg",children:s.jsx(b,{className:"w-6 h-6 text-green-600 dark:text-green-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Mock Quizzes"}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:(null==Re?void 0:Re.guestQuizzes)||0}),s.jsxs("p",{className:"text-sm text-purple-600 dark:text-purple-400 flex items-center mt-1",children:[s.jsx(o,{className:"w-3 h-3 mr-1"}),"Guest users"]})]}),s.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900 rounded-lg",children:s.jsx(o,{className:"w-6 h-6 text-purple-600 dark:text-purple-400"})})]})}),s.jsx("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg. Time"}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[Math.round((null==Re?void 0:Re.averageCompletionTime)||0),"s"]}),s.jsxs("p",{className:"text-sm text-orange-600 dark:text-orange-400 flex items-center mt-1",children:[s.jsx(w,{className:"w-3 h-3 mr-1"}),"Completion time"]})]}),s.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900 rounded-lg",children:s.jsx(w,{className:"w-6 h-6 text-orange-600 dark:text-orange-400"})})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Personality Distribution"}),s.jsx(C,{width:"100%",height:300,children:s.jsxs(M,{children:[s.jsx(R,{data:[{name:"Analytical",value:(null==(G=null==Re?void 0:Re.personalityDistribution)?void 0:G.analytical)||0,color:"#3B82F6"},{name:"Creative",value:(null==(V=null==Re?void 0:Re.personalityDistribution)?void 0:V.creative)||0,color:"#8B5CF6"},{name:"Social",value:(null==(H=null==Re?void 0:Re.personalityDistribution)?void 0:H.social)||0,color:"#10B981"},{name:"Leadership",value:(null==(Y=null==Re?void 0:Re.personalityDistribution)?void 0:Y.leadership)||0,color:"#F59E0B"}],cx:"50%",cy:"50%",labelLine:!1,label:({name:e,percent:s})=>`${e} ${(100*s).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[{name:"Analytical",value:(null==(Z=null==Re?void 0:Re.personalityDistribution)?void 0:Z.analytical)||0,color:"#3B82F6"},{name:"Creative",value:(null==(X=null==Re?void 0:Re.personalityDistribution)?void 0:X.creative)||0,color:"#8B5CF6"},{name:"Social",value:(null==(J=null==Re?void 0:Re.personalityDistribution)?void 0:J.social)||0,color:"#10B981"},{name:"Leadership",value:(null==(_=null==Re?void 0:Re.personalityDistribution)?void 0:_.leadership)||0,color:"#F59E0B"}].map((e,a)=>s.jsx(T,{fill:e.color},`cell-${a}`))}),s.jsx(P,{}),s.jsx(q,{})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Quiz Type Distribution"}),s.jsx(C,{width:"100%",height:300,children:s.jsxs(Q,{data:[{name:"Mock Quiz",value:(null==Re?void 0:Re.guestQuizzes)||0,fill:"#3B82F6"},{name:"Detailed Quiz",value:(null==Re?void 0:Re.authenticatedQuizzes)||0,fill:"#10B981"}],children:[s.jsx(z,{strokeDasharray:"3 3"}),s.jsx(A,{dataKey:"name"}),s.jsx(D,{}),s.jsx(P,{}),s.jsx(U,{dataKey:"value",fill:"#3B82F6"})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Personality Scores Breakdown"}),s.jsx(C,{width:"100%",height:300,children:s.jsxs(Q,{data:[{name:"Analytical",score:(null==(ee=null==Re?void 0:Re.personalityDistribution)?void 0:ee.analytical)||0},{name:"Creative",score:(null==(se=null==Re?void 0:Re.personalityDistribution)?void 0:se.creative)||0},{name:"Social",score:(null==(ae=null==Re?void 0:Re.personalityDistribution)?void 0:ae.social)||0},{name:"Leadership",score:(null==(te=null==Re?void 0:Re.personalityDistribution)?void 0:te.leadership)||0}],children:[s.jsx(z,{strokeDasharray:"3 3"}),s.jsx(A,{dataKey:"name"}),s.jsx(D,{}),s.jsx(P,{}),s.jsx(U,{dataKey:"score",fill:"#8B5CF6"})]})})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Completion Time Analysis"}),s.jsx(C,{width:"100%",height:200,children:s.jsxs(S,{data:[{name:"Mock Quiz",time:(null==Re?void 0:Re.averageCompletionTime)?Math.round(.6*Re.averageCompletionTime):120},{name:"Detailed Quiz",time:(null==Re?void 0:Re.averageCompletionTime)||300}],children:[s.jsx(z,{strokeDasharray:"3 3"}),s.jsx(A,{dataKey:"name"}),s.jsx(D,{label:{value:"Seconds",angle:-90,position:"insideLeft"}}),s.jsx(P,{formatter:e=>[`${e}s`,"Avg. Time"]}),s.jsx(L,{type:"monotone",dataKey:"time",stroke:"#F59E0B",fill:"#F59E0B",fillOpacity:.6})]})})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Key Insights"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Most Common Personality"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white capitalize",children:(null==Re?void 0:Re.mostCommonPersonality)||"N/A"})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Answers"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null==Re?void 0:Re.totalAnswers)||0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Completion Rate"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null==Re?void 0:Re.totalQuizzes)>0?"100%":"0%"})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"User Engagement"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Guest Participation"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null==Re?void 0:Re.guestQuizzes)||0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Registered Participation"}),s.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:(null==Re?void 0:Re.authenticatedQuizzes)||0})]}),s.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-gray-400",children:"Avg. Time per Quiz"}),s.jsxs("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:[Math.round((null==Re?void 0:Re.averageCompletionTime)||0),"s"]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Popular Choices"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-blue-800 dark:text-blue-200",children:"Analytical"}),s.jsx("span",{className:"text-sm font-bold text-blue-900 dark:text-blue-100",children:(null==(re=null==Re?void 0:Re.personalityDistribution)?void 0:re.analytical)||0})]})}),s.jsx("div",{className:"p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-purple-800 dark:text-purple-200",children:"Creative"}),s.jsx("span",{className:"text-sm font-bold text-purple-900 dark:text-purple-100",children:(null==(de=null==Re?void 0:Re.personalityDistribution)?void 0:de.creative)||0})]})}),s.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:"Social"}),s.jsx("span",{className:"text-sm font-bold text-green-900 dark:text-green-100",children:(null==(ie=null==Re?void 0:Re.personalityDistribution)?void 0:ie.social)||0})]})}),s.jsx("div",{className:"p-3 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"text-sm font-medium text-orange-800 dark:text-orange-200",children:"Leadership"}),s.jsx("span",{className:"text-sm font-bold text-orange-900 dark:text-orange-100",children:(null==(le=null==Re?void 0:Re.personalityDistribution)?void 0:le.leadership)||0})]})})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Recent Quiz Submissions"}),qe&&s.jsx("p",{className:"text-xs text-primary-600 dark:text-primary-400 mt-1",children:"Updating submissions..."})]}),s.jsxs("button",{onClick:()=>As(!0),disabled:qe,className:"text-sm text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300 flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[qe?s.jsx("div",{className:"w-4 h-4 border-2 border-primary-600 border-t-transparent rounded-full animate-spin mr-1"}):s.jsx(N,{className:"w-4 h-4 mr-1"}),qe?"Refreshing...":"Refresh"]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Quiz Type"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Personality"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Completion Time"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Submitted"})]})}),s.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:(null==(ne=null==Re?void 0:Re.recentQuizzes)?void 0:ne.length)>0?Re.recentQuizzes.map((e,a)=>{var t,r,d,i;return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 bg-primary-100 dark:bg-primary-900 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-600 dark:text-primary-400 font-medium",children:(null==(r=null==(t=e.userId)?void 0:t.name)?void 0:r.charAt(0).toUpperCase())||"G"})}),s.jsxs("div",{className:"ml-4",children:[s.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:(null==(d=e.userId)?void 0:d.name)||"Guest User"}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:(null==(i=e.userId)?void 0:i.email)||"No email"})]})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full "+("detailed"===e.quizType?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"),children:"detailed"===e.quizType?"Detailed (15Q)":"Mock (5Q)"})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200 capitalize",children:e.personalityType||"N/A"})}),s.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:[Math.round(e.completionTime||0),"s"]}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:new Date(e.createdAt).toLocaleDateString()})]},a)}):s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"px-6 py-12 text-center text-gray-500 dark:text-gray-400",children:"No quiz submissions yet"})})})]})})]})]})}),"analytics"===pe&&s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Advanced Analytics"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Detailed insights and performance metrics"})]})}),"content"===pe&&s.jsx("div",{className:"space-y-8",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Content Management"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Manage quizzes, roadmaps, and other content"})]})}),"settings"===pe&&s.jsxs("div",{className:"space-y-8",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h3",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-2",children:"System Settings"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Configure system preferences, security, and platform options"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[s.jsx(u,{className:"w-5 h-5 mr-2"}),"General Settings"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Platform Name"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Display name for the platform"})]}),s.jsx("input",{type:"text",defaultValue:"Praniti",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm w-48"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Maintenance Mode"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Temporarily disable public access"})]}),s.jsx(Ps,{isOn:ws.maintenanceMode,onClick:()=>Ds("maintenanceMode")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Registration Status"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Allow new user registrations"})]}),s.jsx(Ps,{isOn:ws.registrationStatus,onClick:()=>Ds("registrationStatus")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Email Notifications"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Send system notifications via email"})]}),s.jsx(Ps,{isOn:ws.emailNotifications,onClick:()=>Ds("emailNotifications")})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[s.jsx(i,{className:"w-5 h-5 mr-2"}),"Security Settings"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Password Requirements"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Minimum 8 characters, mixed case, numbers"})]}),s.jsx(Ps,{isOn:ws.passwordRequirements,onClick:()=>Ds("passwordRequirements")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Two-Factor Authentication"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Require 2FA for admin accounts"})]}),s.jsx(Ps,{isOn:ws.twoFactorAuth,onClick:()=>Ds("twoFactorAuth")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Session Timeout"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Auto-logout after inactivity"})]}),s.jsxs("select",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[s.jsx("option",{value:"30",children:"30 minutes"}),s.jsx("option",{value:"60",children:"1 hour"}),s.jsx("option",{value:"120",children:"2 hours"}),s.jsx("option",{value:"480",children:"8 hours"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"IP Whitelist"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Restrict admin access to specific IPs"})]}),s.jsx(Ps,{isOn:ws.ipWhitelist,onClick:()=>Ds("ipWhitelist")})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[s.jsx(m,{className:"w-5 h-5 mr-2"}),"Quiz Settings"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Guest Quiz Limit"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Number of questions for guest users"})]}),s.jsx("input",{type:"number",defaultValue:"5",min:"1",max:"20",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm w-20"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Detailed Quiz Limit"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Number of questions for logged-in users"})]}),s.jsx("input",{type:"number",defaultValue:"15",min:"5",max:"50",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm w-20"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Quiz Time Limit"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Maximum time per quiz (minutes)"})]}),s.jsxs("select",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[s.jsx("option",{value:"0",children:"No limit"}),s.jsx("option",{value:"10",children:"10 minutes"}),s.jsx("option",{value:"15",children:"15 minutes"}),s.jsx("option",{value:"30",children:"30 minutes"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Auto-Save Results"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Automatically save quiz results"})]}),s.jsx(Ps,{isOn:ws.autoSaveResults,onClick:()=>Ds("autoSaveResults")})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[s.jsx(h,{className:"w-5 h-5 mr-2"}),"Content Settings"]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Auto-Moderate Stories"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Automatically approve user stories"})]}),s.jsx(Ps,{isOn:ws.autoModerateStories,onClick:()=>Ds("autoModerateStories")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Featured Content Limit"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Maximum featured items per category"})]}),s.jsx("input",{type:"number",defaultValue:"5",min:"1",max:"20",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm w-20"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Content Approval Required"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Review all user submissions"})]}),s.jsx(Ps,{isOn:ws.contentApprovalRequired,onClick:()=>Ds("contentApprovalRequired")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Content Backup Frequency"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"How often to backup content"})]}),s.jsxs("select",{className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"})]})]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700",children:[s.jsxs("h4",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6 flex items-center",children:[s.jsx(f,{className:"w-5 h-5 mr-2"}),"Advanced Settings"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Database Backup"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Create database backup"})]}),s.jsx(t,{size:"sm",variant:"outline",children:"Backup Now"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Clear Cache"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Clear system cache"})]}),s.jsx(t,{size:"sm",variant:"outline",children:"Clear Cache"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"System Logs"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"View system logs"})]}),s.jsx(t,{size:"sm",variant:"outline",children:"View Logs"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"API Rate Limit"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Requests per minute"})]}),s.jsx("input",{type:"number",defaultValue:"100",min:"10",max:"1000",className:"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white text-sm w-24"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Error Reporting"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Send error reports"})]}),s.jsx(Ps,{isOn:ws.errorReporting,onClick:()=>Ds("errorReporting")})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Debug Mode"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Enable debug logging"})]}),s.jsx(Ps,{isOn:ws.debugMode,onClick:()=>Ds("debugMode")})]})]})]}),s.jsxs("div",{className:"flex justify-end space-x-4",children:[s.jsx(t,{variant:"outline",size:"lg",children:"Reset to Defaults"}),s.jsx(t,{size:"lg",className:"bg-green-600 hover:bg-green-700",children:"Save All Settings"})]})]}),Fe&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-w-md mx-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Reset Password for ",null==Oe?void 0:Oe.name]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:Ye?"text":"password",value:Ie,onChange:e=>Ke(e.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>Ze(!Ye),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:Ye?s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:Xe?"text":"password",value:$e,onChange:e=>Ge(e.target.value),className:"w-full px-3 py-2 pr-10 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Confirm new password"}),s.jsx("button",{type:"button",onClick:()=>Je(!Xe),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:Xe?s.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.878 9.878L3 3m6.878 6.878L21 21"})}):s.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{Ee(!1),We(null),Ke(""),Ge(""),Ze(!1),Je(!1)},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg",children:"Cancel"}),s.jsx("button",{onClick:async()=>{var e,s;if(!Ie||Ie.length<6)return as("❌ Password must be at least 6 characters long"),es(!0),void setTimeout(()=>es(!1),3e3);if(Ie!==$e)return as("❌ Passwords do not match"),es(!0),void setTimeout(()=>es(!1),3e3);He(!0);try{Oe.id,await a.resetUserPassword(Oe.id,{newPassword:Ie});as(`Password reset successfully for ${Oe.name}!`),es(!0),Ee(!1),We(null),Ke(""),Ge(""),Ze(!1),Je(!1),setTimeout(()=>{es(!1)},3e3)}catch(t){let a="Failed to reset password. Please try again.";(null==(s=null==(e=t.response)?void 0:e.data)?void 0:s.message)?a=t.response.data.message:t.message&&(a=t.message),as(`❌ ${a}`),es(!0),setTimeout(()=>{es(!1)},4e3)}finally{He(!1)}},disabled:Ve,className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:opacity-50 rounded-lg",children:Ve?"Resetting...":"Reset Password"})]})]})]})}),ts&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-w-md mx-4",children:[s.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:["Delete User: ",null==ds?void 0:ds.name]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("svg",{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),s.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:[s.jsx("strong",{children:"Warning:"})," This action cannot be undone. The user will be permanently deleted from the database."]})]})}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Enter your admin password to confirm deletion"}),s.jsx("input",{type:"password",value:ls,onChange:e=>ns(e.target.value),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter admin password",autoFocus:!0})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{onClick:()=>{rs(!1),is(null),ns("")},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg",children:"Cancel"}),s.jsx("button",{onClick:async()=>{var e,s;if(!ls)return as("❌ Admin password is required"),es(!0),void setTimeout(()=>es(!1),3e3);cs(!0);try{await a.deleteUser(ds.id,{adminPassword:ls}),as(`User ${ds.name} deleted successfully!`),es(!0),rs(!1),is(null),ns(""),Ss(),setTimeout(()=>{es(!1)},3e3)}catch(t){let a="Failed to delete user. Please try again.";(null==(s=null==(e=t.response)?void 0:e.data)?void 0:s.message)?a=t.response.data.message:t.message&&(a=t.message),as(`❌ ${a}`),es(!0),setTimeout(()=>{es(!1)},4e3)}finally{cs(!1)}},disabled:xs,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 disabled:opacity-50 rounded-lg",children:xs?"Deleting...":"Delete User"})]})]})]})}),_e&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-8 max-w-md mx-4 text-center shadow-2xl transform transition-all duration-300 scale-100",children:[s.jsx("div",{className:"mb-4",children:ss.includes("❌")?s.jsx("div",{className:"w-16 h-16 mx-auto bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-red-600 dark:text-red-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}):s.jsx("div",{className:"w-16 h-16 mx-auto bg-green-100 dark:bg-green-900 rounded-full flex items-center justify-center mb-4",children:s.jsx("svg",{className:"w-8 h-8 text-green-600 dark:text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),s.jsx("h3",{className:"text-lg font-semibold mb-2 "+(ss.includes("❌")?"text-red-900 dark:text-red-100":"text-green-900 dark:text-green-100"),children:ss.includes("❌")?"Error":"Success!"}),s.jsx("p",{className:"text-sm "+(ss.includes("❌")?"text-red-700 dark:text-red-300":"text-green-700 dark:text-green-300"),children:ss.replace("❌ ","")}),s.jsx("button",{onClick:()=>es(!1),className:"mt-4 px-6 py-2 rounded-lg font-medium transition-colors "+(ss.includes("❌")?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"),children:"OK"})]})}),us&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-w-md mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Create New Account"}),s.jsxs("form",{onSubmit:async e=>{var s,t;e.preventDefault();const r={};if(ps.name.trim()||(r.name="Name is required"),ps.email.trim()?/\S+@\S+\.\S+/.test(ps.email)||(r.email="Please enter a valid email"):r.email="Email is required",ps.password?ps.password.length<6&&(r.password="Password must be at least 6 characters"):r.password="Password is required",ps.password!==ps.confirmPassword&&(r.confirmPassword="Passwords do not match"),ps.role||(r.role="Role is required"),Ns(r),!(Object.keys(r).length>0)){vs(!0);try{const e=await a.createUser({name:ps.name,email:ps.email,password:ps.password,role:ps.role});e.data.success?(ys(!1),bs({name:"",email:"",password:"",confirmPassword:"",role:"student"}),Ns({}),Ss(ze,ke,we,Ce),as("✅ User created successfully!"),es(!0),setTimeout(()=>{es(!1)},3e3)):Ns({general:e.data.message||"Failed to create user"})}catch(d){Ns({general:(null==(t=null==(s=d.response)?void 0:s.data)?void 0:t.message)||"Failed to create user. Please try again."})}finally{vs(!1)}}},className:"space-y-4",children:[ks.general&&s.jsx("div",{className:"bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-700 text-red-600 dark:text-red-400 px-3 py-2 rounded-lg text-sm",children:ks.general}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Full Name"}),s.jsx("input",{type:"text",value:ps.name,onChange:e=>bs(s=>({...s,name:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter full name"}),ks.name&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ks.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email"}),s.jsx("input",{type:"email",value:ps.email,onChange:e=>bs(s=>({...s,email:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter email address"}),ks.email&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ks.email})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Role"}),s.jsxs("select",{value:ps.role,onChange:e=>bs(s=>({...s,role:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",children:[s.jsx("option",{value:"student",children:"Student"}),s.jsx("option",{value:"mentor",children:"Mentor"}),s.jsx("option",{value:"admin",children:"Admin"})]}),ks.role&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ks.role})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),s.jsx("input",{type:"password",value:ps.password,onChange:e=>bs(s=>({...s,password:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Enter password"}),ks.password&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ks.password})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Confirm Password"}),s.jsx("input",{type:"password",value:ps.confirmPassword,onChange:e=>bs(s=>({...s,confirmPassword:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Confirm password"}),ks.confirmPassword&&s.jsx("p",{className:"text-red-500 text-xs mt-1",children:ks.confirmPassword})]}),s.jsxs("div",{className:"flex justify-end space-x-3",children:[s.jsx("button",{type:"button",onClick:()=>{ys(!1),bs({name:"",email:"",password:"",confirmPassword:"",role:"student"}),Ns({})},className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 rounded-lg",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:js,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 rounded-lg",children:js?"Creating...":"Create Account"})]})]})]})})]})]})};export{B as default};
//# sourceMappingURL=AdminDashboard-CGSpmFKc.js.map
